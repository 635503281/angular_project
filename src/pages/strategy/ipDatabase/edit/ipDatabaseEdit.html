<div id="ipDatabaseEdit" class="pageBox">
	<div id="pageHead">
		<div id="breadcrumb">
			<a class="parent">{{firstMenuName}}</a>
			<a class="parent" ui-sref="index.strategy.ipDatabase.list">{{secondMenuName}}</a>
            <a class="self" ng-if="id==0">{{"add"|translate}}</a>
            <a class="self" ng-if="id!=0">{{"modify"|translate}}</a>	
		</div>
		<div id="currentSelf">
			<h3 ng-if="id==0">{{"add"|translate}}</h3>
            <h3 ng-if="id!=0">{{"modify"|translate}}</h3>
		</div>
	</div>

	<div class="pageMain">
		<div id="pageEdit">
			<form name="edit_form" novalidate autocomplete="off">
				<div class="pageEdit_content">
                    <!-- èŠ‚ç‚¹ -->
					<div class="pageEdit_item">
						<span class="pageEdit_itemT">{{"nodeID"|translate}}:</span>
                        <select class="pageEdit_itemC" ui-select2 ng-model="item.nodeID" ng-options="i.nodeID as i.nodeName for i in nodeList" required></select>
                    </div>
                    
                    <!-- ip -->
					<div class="pageTabContent">
						<h3>{{"IP"|translate}}</h3>
						<div class="pageTabContent_box" ng-if="item.ipList.length>0">
							<div>
								<table>
									<thead>
										<tr>
											<th width=40%>{{"startIp"|translate}}</th>
											<th>{{"endIp"|translate}}</th>
											<th class="operation" style="width:73px;">{{"operation"|translate}}</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="value in item.ipList track by $index">
											<td> 
                                                <input type="text" name="startIp{{$index}}" ng-model="value.startIp" ip-check required
                                                       ng-class="{'errIpt':edit_form.startIp{{$index}}.$error.ipErr}" placeholder='{{"pleaseInput"|translate}}'>
                                                <span class="none" ng-class="{'errTip':edit_form.startIp{{$index}}.$error.ipErr}">{{"ip_err"|translate}}</span>
											</td>
											<td>
                                                <input type="text" name="endIp{{$index}}" ng-model="value.endIp" ip-check required
                                                       ng-class="{'errIpt':edit_form.endIp{{$index}}.$error.ipErr}" placeholder='{{"pleaseInput"|translate}}'>
                                                <span class="none" ng-class="{'errTip':edit_form.endIp{{$index}}.$error.ipErr}">{{"ip_err"|translate}}</span>
											</td>
											<td class="operationBtn"><button class="btn icon_delete" ng-click="delIp($index,$event)" ng-disabled="item.ipList.length==1"></button></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="pageTabContent_add noBorder_b">
							<div class="dashed">
								<button type="button" ng-click="addIp()">{{'addIp'|translate}}</button>
							</div> 
						</div>
					</div>
                    
                    <!-- ipv6 -->
					<div class="pageTabContent">
						<h3>{{"IPv6"|translate}}</h3>
						<div class="pageTabContent_box" ng-if="item.ipv6List.length>0">
							<div>
								<table>
									<thead>
										<tr>
											<th width=40%>{{"startIp"|translate}}</th>
											<th>{{"endIp"|translate}}</th>
											<th class="operation" style="width:73px;">{{"operation"|translate}}</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="value in item.ipv6List track by $index">
											<td> 
                                                <input type="text" name="startIpv6{{$index}}" ng-model="value.startIp" ipv6-check required
                                                       ng-class="{'errIpt':edit_form.startIpv6{{$index}}.$error.ipv6Err}" placeholder='{{"pleaseInput"|translate}}'>
                                                <span class="none" ng-class="{'errTip':edit_form.startIpv6{{$index}}.$error.ipv6Err}">{{"ipv6_err"|translate}}</span>
											</td>
											<td>
                                                <input type="text" name="endIpv6{{$index}}" ng-model="value.endIp" ipv6-check required
                                                       ng-class="{'errIpt':edit_form.endIpv6{{$index}}.$error.ipv6Err}" placeholder='{{"pleaseInput"|translate}}'>
                                                <span class="none" ng-class="{'errTip':edit_form.endIpv6{{$index}}.$error.ipv6Err}">{{"ipv6_err"|translate}}</span>
											</td>
											<td class="operationBtn"><button class="btn icon_delete" ng-click="delIpv6($index,$event)"></button></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="pageTabContent_add noBorder_b">
							<div class="dashed">
								<button type="button" ng-click="addIpv6()">{{'addIpv6'|translate}}</button>
							</div> 
						</div>
					</div>

                </div>
     
				<div class="pageEdit_btnGroup">
					<button type="button" class="pageBtn_blue40" ng-click="save()" ng-disabled="edit_form.$invalid">{{"submit"|translate}}</button>
					<button type="button" class="pageBtn_bai40" ng-click="return()">{{"cancel"|translate}}</button>
				</div>
			</form>	
		</div>
	</div>
</div>

